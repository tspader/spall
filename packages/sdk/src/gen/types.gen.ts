// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
  baseUrl: `${string}://${string}` | (string & {});
};

export type NoteListData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/project/{id}/list";
};

export type NoteListErrors = {
  /**
   * Project not found
   */
  404: unknown;
};

export type NoteListResponses = {
  /**
   * List of notes
   */
  200: Array<{
    id: number;
    path: string;
  }>;
};

export type NoteListResponse = NoteListResponses[keyof NoteListResponses];

export type NoteListByPathData = {
  body?: never;
  path: {
    id: string;
  };
  query?: {
    path?: string;
    limit?: number;
    after?: string;
  };
  url: "/project/{id}/notes";
};

export type NoteListByPathErrors = {
  /**
   * Project not found
   */
  404: unknown;
};

export type NoteListByPathResponses = {
  /**
   * Paginated notes
   */
  200: {
    notes: Array<{
      id: number;
      project: number;
      path: string;
      content: string;
      contentHash: string;
    }>;
    nextCursor: string | null;
  };
};

export type NoteListByPathResponse =
  NoteListByPathResponses[keyof NoteListByPathResponses];

export type NoteGetData = {
  body?: never;
  path: {
    id: string;
    path: string;
  };
  query?: never;
  url: "/project/{id}/note/{path}";
};

export type NoteGetErrors = {
  /**
   * Project or note not found
   */
  404: unknown;
};

export type NoteGetResponses = {
  /**
   * Note with content
   */
  200: {
    id: number;
    project: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteGetResponse = NoteGetResponses[keyof NoteGetResponses];

export type NoteUpsertData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
    path: string;
  };
  query?: never;
  url: "/project/{id}/note/{path}";
};

export type NoteUpsertErrors = {
  /**
   * Project not found
   */
  404: unknown;
};

export type NoteUpsertResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type NoteUpsertResponse = NoteUpsertResponses[keyof NoteUpsertResponses];

export type ProjectGetData = {
  body?: never;
  path?: never;
  query?: {
    name?: string;
    id?: number;
  };
  url: "/project";
};

export type ProjectGetResponses = {
  /**
   * Project info
   */
  200: {
    id: number;
    name: string;
    dir: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  };
};

export type ProjectGetResponse = ProjectGetResponses[keyof ProjectGetResponses];

export type ProjectCreateData = {
  body?: {
    dir: string;
    name?: string;
  };
  path?: never;
  query?: never;
  url: "/project";
};

export type ProjectCreateResponses = {
  /**
   * Project info
   */
  200: {
    id: number;
    name: string;
    dir: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  };
};

export type ProjectCreateResponse =
  ProjectCreateResponses[keyof ProjectCreateResponses];

export type ProjectListData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/project/list";
};

export type ProjectListResponses = {
  /**
   * List of projects
   */
  200: Array<{
    id: number;
    name: string;
    dir: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  }>;
};

export type ProjectListResponse =
  ProjectListResponses[keyof ProjectListResponses];

export type NoteIndexData = {
  body?: {
    directory: string;
    glob?: string;
    project: number;
  };
  path?: never;
  query?: never;
  url: "/project/index";
};

export type NoteIndexResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type NoteIndexResponse = NoteIndexResponses[keyof NoteIndexResponses];

export type NoteAddData = {
  body?: {
    project: number;
    path: string;
    content: string;
    dupe?: boolean;
  };
  path?: never;
  query?: never;
  url: "/project/note";
};

export type NoteAddErrors = {
  /**
   * Project not found
   */
  404: unknown;
};

export type NoteAddResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type NoteAddResponse = NoteAddResponses[keyof NoteAddResponses];

export type NoteGetByIdData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/note/{id}";
};

export type NoteGetByIdErrors = {
  /**
   * Note not found
   */
  404: unknown;
};

export type NoteGetByIdResponses = {
  /**
   * Note with content
   */
  200: {
    id: number;
    project: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteGetByIdResponse =
  NoteGetByIdResponses[keyof NoteGetByIdResponses];

export type NoteUpdateData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
  };
  query?: never;
  url: "/note/{id}";
};

export type NoteUpdateErrors = {
  /**
   * Note not found
   */
  404: unknown;
};

export type NoteUpdateResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type NoteUpdateResponse = NoteUpdateResponses[keyof NoteUpdateResponses];

export type HealthData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/health";
};

export type HealthResponses = {
  /**
   * Server is healthy
   */
  200: string;
};

export type HealthResponse = HealthResponses[keyof HealthResponses];

export type EventsData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/events";
};

export type EventsResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          project: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type EventsResponse = EventsResponses[keyof EventsResponses];
