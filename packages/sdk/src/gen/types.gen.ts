// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
  baseUrl: `${string}://${string}` | (string & {});
};

export type SearchResult = {
  /**
   * Unique identifier for the result
   */
  key: string;
  /**
   * Distance/similarity score
   */
  distance: number;
};

export type ProjectGetData = {
  body?: never;
  path?: never;
  query?: {
    name?: string;
    id?: number;
  };
  url: "/project";
};

export type ProjectGetResponses = {
  /**
   * Project info
   */
  200: {
    id: number;
    name: string;
    dir: string;
  };
};

export type ProjectGetResponse = ProjectGetResponses[keyof ProjectGetResponses];

export type ProjectCreateData = {
  body?: {
    dir: string;
    name?: string;
  };
  path?: never;
  query?: never;
  url: "/project";
};

export type ProjectCreateResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      };
};

export type ProjectCreateResponse =
  ProjectCreateResponses[keyof ProjectCreateResponses];

export type NoteAddData = {
  body?: {
    project: number;
    path: string;
    content: string;
  };
  path?: never;
  query?: never;
  url: "/project/note";
};

export type NoteAddErrors = {
  /**
   * Project not found
   */
  404: unknown;
};

export type NoteAddResponses = {
  /**
   * Note info
   */
  200: {
    id: number;
    project: number;
    path: string;
  };
};

export type NoteAddResponse = NoteAddResponses[keyof NoteAddResponses];

export type InitData = {
  body?: {
    /**
     * Project root directory
     */
    directory: string;
  };
  path?: never;
  query?: never;
  url: "/init";
};

export type InitResponses = {
  /**
   * Initialization events stream
   */
  200:
    | {
        tag: "project.created";
        info: {
          id: number;
          name: string;
          dir: string;
        };
      }
    | {
        tag: "project.updated";
        foo: number;
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      };
};

export type InitResponse = InitResponses[keyof InitResponses];

export type IndexData = {
  body?: {
    /**
     * Project root directory
     */
    directory: string;
  };
  path?: never;
  query?: never;
  url: "/index";
};

export type IndexResponses = {
  /**
   * Indexing events stream
   */
  200:
    | {
        tag: "scan";
        action: "start";
        total: number;
      }
    | {
        tag: "scan";
        action: "progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan";
        action: "done";
      }
    | {
        tag: "embed";
        action: "start";
        totalDocs: number;
        totalChunks: number;
        totalBytes: number;
      }
    | {
        tag: "embed";
        action: "progress";
        filesProcessed: number;
        totalFiles: number;
        bytesProcessed: number;
        totalBytes: number;
      }
    | {
        tag: "embed";
        action: "done";
      };
};

export type IndexResponse = IndexResponses[keyof IndexResponses];

export type SearchData = {
  body?: {
    /**
     * Project root directory
     */
    directory: string;
    /**
     * Search query text
     */
    query: string;
    /**
     * Maximum number of results
     */
    limit?: number;
  };
  path?: never;
  query?: never;
  url: "/search";
};

export type SearchResponses = {
  /**
   * Search results
   */
  200: Array<SearchResult>;
};

export type SearchResponse = SearchResponses[keyof SearchResponses];

export type HealthData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/health";
};

export type HealthResponses = {
  /**
   * Server is healthy
   */
  200: string;
};

export type HealthResponse = HealthResponses[keyof HealthResponses];
