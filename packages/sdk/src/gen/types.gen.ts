// This file is auto-generated by @hey-api/openapi-ts

export type ClientOptions = {
  baseUrl: `${string}://${string}` | (string & {});
};

export type WorkspaceGetData = {
  body?: never;
  path?: never;
  query?: {
    name?: string;
    id?: number;
  };
  url: "/workspace";
};

export type WorkspaceGetErrors = {
  /**
   * Workspace not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type WorkspaceGetError = WorkspaceGetErrors[keyof WorkspaceGetErrors];

export type WorkspaceGetResponses = {
  /**
   * Workspace info
   */
  200: {
    id: number;
    name: string;
    createdAt: number;
    updatedAt: number;
  };
};

export type WorkspaceGetResponse =
  WorkspaceGetResponses[keyof WorkspaceGetResponses];

export type WorkspaceCreateData = {
  body?: {
    name: string;
  };
  path?: never;
  query?: never;
  url: "/workspace";
};

export type WorkspaceCreateResponses = {
  /**
   * Workspace info
   */
  200: {
    id: number;
    name: string;
    createdAt: number;
    updatedAt: number;
  };
};

export type WorkspaceCreateResponse =
  WorkspaceCreateResponses[keyof WorkspaceCreateResponses];

export type WorkspaceListData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/workspace/list";
};

export type WorkspaceListErrors = {
  /**
   * Server error
   */
  500: {
    code: string;
    message: string;
  };
};

export type WorkspaceListError = WorkspaceListErrors[keyof WorkspaceListErrors];

export type WorkspaceListResponses = {
  /**
   * List of workspaces
   */
  200: Array<{
    id: number;
    name: string;
    createdAt: number;
    updatedAt: number;
  }>;
};

export type WorkspaceListResponse =
  WorkspaceListResponses[keyof WorkspaceListResponses];

export type WorkspaceDeleteData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/workspace/{id}";
};

export type WorkspaceDeleteErrors = {
  /**
   * Workspace not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type WorkspaceDeleteError =
  WorkspaceDeleteErrors[keyof WorkspaceDeleteErrors];

export type WorkspaceDeleteResponses = {
  /**
   * Workspace deleted successfully
   */
  204: void;
};

export type WorkspaceDeleteResponse =
  WorkspaceDeleteResponses[keyof WorkspaceDeleteResponses];

export type NoteListData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/corpus/{id}/list";
};

export type NoteListErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteListError = NoteListErrors[keyof NoteListErrors];

export type NoteListResponses = {
  /**
   * List of notes
   */
  200: Array<{
    id: number;
    path: string;
  }>;
};

export type NoteListResponse = NoteListResponses[keyof NoteListResponses];

export type NoteListByPathData = {
  body?: never;
  path: {
    id: string;
  };
  query?: {
    path?: string;
    limit?: number;
    after?: string;
  };
  url: "/corpus/{id}/notes";
};

export type NoteListByPathErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteListByPathError =
  NoteListByPathErrors[keyof NoteListByPathErrors];

export type NoteListByPathResponses = {
  /**
   * Paginated notes
   */
  200: {
    notes: Array<{
      id: number;
      corpus: number;
      path: string;
      content: string;
      contentHash: string;
    }>;
    nextCursor: string | null;
  };
};

export type NoteListByPathResponse =
  NoteListByPathResponses[keyof NoteListByPathResponses];

export type NoteGetData = {
  body?: never;
  path: {
    id: string;
    path: string;
  };
  query?: never;
  url: "/corpus/{id}/note/{path}";
};

export type NoteGetErrors = {
  /**
   * Corpus or note not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteGetError = NoteGetErrors[keyof NoteGetErrors];

export type NoteGetResponses = {
  /**
   * Note with content
   */
  200: {
    id: number;
    corpus: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteGetResponse = NoteGetResponses[keyof NoteGetResponses];

export type NoteUpsertData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
    path: string;
  };
  query?: never;
  url: "/corpus/{id}/note/{path}";
};

export type NoteUpsertErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteUpsertError = NoteUpsertErrors[keyof NoteUpsertErrors];

export type NoteUpsertResponses = {
  /**
   * Created or updated note
   */
  200: {
    id: number;
    corpus: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteUpsertResponse = NoteUpsertResponses[keyof NoteUpsertResponses];

export type CorpusGetData = {
  body?: never;
  path?: never;
  query?: {
    name?: string;
    id?: number;
  };
  url: "/corpus";
};

export type CorpusGetErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type CorpusGetError = CorpusGetErrors[keyof CorpusGetErrors];

export type CorpusGetResponses = {
  /**
   * Corpus info
   */
  200: {
    id: number;
    name: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  };
};

export type CorpusGetResponse = CorpusGetResponses[keyof CorpusGetResponses];

export type CorpusCreateData = {
  body?: {
    name: string;
  };
  path?: never;
  query?: never;
  url: "/corpus";
};

export type CorpusCreateResponses = {
  /**
   * Corpus info
   */
  200: {
    id: number;
    name: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  };
};

export type CorpusCreateResponse =
  CorpusCreateResponses[keyof CorpusCreateResponses];

export type CorpusListData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/corpus/list";
};

export type CorpusListErrors = {
  /**
   * Server error
   */
  500: {
    code: string;
    message: string;
  };
};

export type CorpusListError = CorpusListErrors[keyof CorpusListErrors];

export type CorpusListResponses = {
  /**
   * List of corpora
   */
  200: Array<{
    id: number;
    name: string;
    noteCount: number;
    createdAt: number;
    updatedAt: number;
  }>;
};

export type CorpusListResponse = CorpusListResponses[keyof CorpusListResponses];

export type CorpusDeleteData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/corpus/{id}";
};

export type CorpusDeleteErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type CorpusDeleteError = CorpusDeleteErrors[keyof CorpusDeleteErrors];

export type CorpusDeleteResponses = {
  /**
   * Corpus deleted successfully
   */
  204: void;
};

export type CorpusDeleteResponse =
  CorpusDeleteResponses[keyof CorpusDeleteResponses];

export type NoteSyncData = {
  body?: {
    directory: string;
    glob?: string;
    corpus: number;
  };
  path?: never;
  query?: never;
  url: "/corpus/sync";
};

export type NoteSyncResponses = {
  /**
   * Index complete
   */
  204: void;
};

export type NoteSyncResponse = NoteSyncResponses[keyof NoteSyncResponses];

export type NoteAddData = {
  body?: {
    corpus: number;
    path: string;
    content: string;
    dupe?: boolean;
  };
  path?: never;
  query?: never;
  url: "/corpus/note";
};

export type NoteAddErrors = {
  /**
   * Corpus not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteAddError = NoteAddErrors[keyof NoteAddErrors];

export type NoteAddResponses = {
  /**
   * Created note
   */
  200: {
    id: number;
    corpus: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteAddResponse = NoteAddResponses[keyof NoteAddResponses];

export type NoteGetByIdData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/note/{id}";
};

export type NoteGetByIdErrors = {
  /**
   * Note not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteGetByIdError = NoteGetByIdErrors[keyof NoteGetByIdErrors];

export type NoteGetByIdResponses = {
  /**
   * Note with content
   */
  200: {
    id: number;
    corpus: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteGetByIdResponse =
  NoteGetByIdResponses[keyof NoteGetByIdResponses];

export type NoteUpdateData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
  };
  query?: never;
  url: "/note/{id}";
};

export type NoteUpdateErrors = {
  /**
   * Note not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type NoteUpdateError = NoteUpdateErrors[keyof NoteUpdateErrors];

export type NoteUpdateResponses = {
  /**
   * Updated note
   */
  200: {
    id: number;
    corpus: number;
    path: string;
    content: string;
    contentHash: string;
  };
};

export type NoteUpdateResponse = NoteUpdateResponses[keyof NoteUpdateResponses];

export type QueryCreateData = {
  body?: {
    viewer: number;
    tracked?: boolean;
    corpora: Array<number>;
  };
  path?: never;
  query?: never;
  url: "/query";
};

export type QueryCreateErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryCreateError = QueryCreateErrors[keyof QueryCreateErrors];

export type QueryCreateResponses = {
  /**
   * Query info
   */
  200: {
    id: number;
    viewer: number;
    tracked: boolean;
    corpora: Array<number>;
    createdAt: number;
  };
};

export type QueryCreateResponse =
  QueryCreateResponses[keyof QueryCreateResponses];

export type QueryRecentData = {
  body?: never;
  path?: never;
  query?: {
    limit?: number;
  };
  url: "/query/recent";
};

export type QueryRecentResponses = {
  /**
   * Recent queries
   */
  200: {
    queries: Array<{
      id: number;
      viewer: number;
      tracked: boolean;
      corpora: Array<number>;
      createdAt: number;
    }>;
  };
};

export type QueryRecentResponse =
  QueryRecentResponses[keyof QueryRecentResponses];

export type QueryGetData = {
  body?: never;
  path: {
    id: string;
  };
  query?: never;
  url: "/query/{id}";
};

export type QueryGetErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryGetError = QueryGetErrors[keyof QueryGetErrors];

export type QueryGetResponses = {
  /**
   * Query info
   */
  200: {
    id: number;
    viewer: number;
    tracked: boolean;
    corpora: Array<number>;
    createdAt: number;
  };
};

export type QueryGetResponse = QueryGetResponses[keyof QueryGetResponses];

export type QueryNotesData = {
  body?: never;
  path: {
    id: string;
  };
  query?: {
    path?: string;
    limit?: number;
    after?: string;
  };
  url: "/query/{id}/notes";
};

export type QueryNotesErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryNotesError = QueryNotesErrors[keyof QueryNotesErrors];

export type QueryNotesResponses = {
  /**
   * Paginated notes
   */
  200: {
    notes: Array<{
      id: number;
      corpus: number;
      path: string;
      content: string;
      contentHash: string;
    }>;
    nextCursor: string | null;
  };
};

export type QueryNotesResponse = QueryNotesResponses[keyof QueryNotesResponses];

export type QuerySearchData = {
  body?: never;
  path: {
    id: string;
  };
  query: {
    q: string;
    path?: string;
    limit?: number;
    mode?: "plain" | "fts";
  };
  url: "/query/{id}/search";
};

export type QuerySearchErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QuerySearchError = QuerySearchErrors[keyof QuerySearchErrors];

export type QuerySearchResponses = {
  /**
   * Search results
   */
  200: {
    results: Array<{
      id: number;
      corpus: number;
      path: string;
      snippet: string;
      score: number;
    }>;
  };
};

export type QuerySearchResponse =
  QuerySearchResponses[keyof QuerySearchResponses];

export type QueryVsearchData = {
  body?: never;
  path: {
    id: string;
  };
  query: {
    q: string;
    path?: string;
    limit?: number;
  };
  url: "/query/{id}/vsearch";
};

export type QueryVsearchErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryVsearchError = QueryVsearchErrors[keyof QueryVsearchErrors];

export type QueryVsearchResponses = {
  /**
   * Search results
   */
  200: {
    results: Array<{
      id: number;
      corpus: number;
      path: string;
      chunk: string;
      chunkPos: number;
      score: number;
    }>;
  };
};

export type QueryVsearchResponse =
  QueryVsearchResponses[keyof QueryVsearchResponses];

export type QueryFetchData = {
  body?: {
    ids: Array<number>;
  };
  path: {
    id: string;
  };
  query?: never;
  url: "/query/{id}/fetch";
};

export type QueryFetchErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryFetchError = QueryFetchErrors[keyof QueryFetchErrors];

export type QueryFetchResponses = {
  /**
   * Fetched notes
   */
  200: {
    notes: Array<{
      id: number;
      corpus: number;
      path: string;
      content: string;
      contentHash: string;
    }>;
  };
};

export type QueryFetchResponse = QueryFetchResponses[keyof QueryFetchResponses];

export type QueryPathsData = {
  body?: never;
  path: {
    id: string;
  };
  query?: {
    path?: string;
  };
  url: "/query/{id}/paths";
};

export type QueryPathsErrors = {
  /**
   * Query not found
   */
  404: {
    code: string;
    message: string;
  };
};

export type QueryPathsError = QueryPathsErrors[keyof QueryPathsErrors];

export type QueryPathsResponses = {
  /**
   * Paths grouped by corpus
   */
  200: {
    paths: Array<{
      corpus: number;
      paths: Array<string>;
    }>;
  };
};

export type QueryPathsResponse = QueryPathsResponses[keyof QueryPathsResponses];

export type CommitRunData = {
  body?: {
    [key: string]: unknown;
  };
  path?: never;
  query?: never;
  url: "/commit";
};

export type CommitRunResponses = {
  /**
   * Commit result
   */
  200: {
    moved: number;
    committedAt: number;
  };
};

export type CommitRunResponse = CommitRunResponses[keyof CommitRunResponses];

export type SseNoteSyncData = {
  body?: {
    directory: string;
    glob?: string;
    corpus: number;
  };
  path?: never;
  query?: never;
  url: "/sse/corpus/sync";
};

export type SseNoteSyncResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "workspace.created";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "workspace.updated";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.created";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.updated";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "embed.cancel";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "fts.start";
        numNotes: number;
        numBytes: number;
      }
    | {
        tag: "fts.done";
        numNotes: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type SseNoteSyncResponse =
  SseNoteSyncResponses[keyof SseNoteSyncResponses];

export type SseNoteAddData = {
  body?: {
    corpus: number;
    path: string;
    content: string;
    dupe?: boolean;
  };
  path?: never;
  query?: never;
  url: "/sse/corpus/note";
};

export type SseNoteAddResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "workspace.created";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "workspace.updated";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.created";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.updated";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "embed.cancel";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "fts.start";
        numNotes: number;
        numBytes: number;
      }
    | {
        tag: "fts.done";
        numNotes: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type SseNoteAddResponse = SseNoteAddResponses[keyof SseNoteAddResponses];

export type SseNoteUpsertData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
    path: string;
  };
  query?: never;
  url: "/sse/corpus/{id}/note/{path}";
};

export type SseNoteUpsertResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "workspace.created";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "workspace.updated";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.created";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.updated";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "embed.cancel";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "fts.start";
        numNotes: number;
        numBytes: number;
      }
    | {
        tag: "fts.done";
        numNotes: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type SseNoteUpsertResponse =
  SseNoteUpsertResponses[keyof SseNoteUpsertResponses];

export type SseNoteUpdateData = {
  body?: {
    content: string;
    dupe?: boolean;
  };
  path: {
    id: string;
  };
  query?: never;
  url: "/sse/note/{id}";
};

export type SseNoteUpdateResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "workspace.created";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "workspace.updated";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.created";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.updated";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "embed.cancel";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "fts.start";
        numNotes: number;
        numBytes: number;
      }
    | {
        tag: "fts.done";
        numNotes: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type SseNoteUpdateResponse =
  SseNoteUpdateResponses[keyof SseNoteUpdateResponses];

export type HealthData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/health";
};

export type HealthResponses = {
  /**
   * Server is healthy
   */
  200: string;
};

export type HealthResponse = HealthResponses[keyof HealthResponses];

export type EventsData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/events";
};

export type EventsResponses = {
  /**
   * Event stream
   */
  200:
    | {
        tag: "error";
        error: {
          code: string;
          message: string;
        };
      }
    | {
        tag: "sse.connected";
      }
    | {
        tag: "workspace.created";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "workspace.updated";
        info: {
          id: number;
          name: string;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.created";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "corpus.updated";
        info: {
          id: number;
          name: string;
          noteCount: number;
          createdAt: number;
          updatedAt: number;
        };
      }
    | {
        tag: "model.download";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.progress";
        info: {
          id: number;
          name: string;
          path: string;
        };
        downloaded: number;
        total: number;
      }
    | {
        tag: "model.downloaded";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.load";
        info: {
          id: number;
          name: string;
          path: string;
        };
      }
    | {
        tag: "model.failed";
        error: string;
      }
    | {
        tag: "store.create";
        path: string;
      }
    | {
        tag: "store.created";
        path: string;
      }
    | {
        tag: "scan.start";
        numFiles: number;
      }
    | {
        tag: "scan.progress";
        path: string;
        status: "added" | "modified" | "removed" | "ok";
      }
    | {
        tag: "scan.done";
        numFiles: number;
      }
    | {
        tag: "embed.start";
        numFiles: number;
        numChunks: number;
        numBytes: number;
      }
    | {
        tag: "embed.progress";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "embed.done";
        numFiles: number;
      }
    | {
        tag: "embed.cancel";
        numFiles: number;
        numChunks: number;
        numBytes: number;
        numFilesProcessed: number;
        numBytesProcessed: number;
      }
    | {
        tag: "fts.start";
        numNotes: number;
        numBytes: number;
      }
    | {
        tag: "fts.done";
        numNotes: number;
      }
    | {
        tag: "note.created";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      }
    | {
        tag: "note.updated";
        info: {
          id: number;
          corpus: number;
          path: string;
          content: string;
          contentHash: string;
        };
      };
};

export type EventsResponse = EventsResponses[keyof EventsResponses];

export type ServerShutdownData = {
  body?: never;
  path?: never;
  query?: never;
  url: "/shutdown";
};

export type ServerShutdownResponses = {
  /**
   * Shutdown acknowledged
   */
  200: {
    ok: true;
  };
};

export type ServerShutdownResponse =
  ServerShutdownResponses[keyof ServerShutdownResponses];
